<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Testes</title>
</head>
<body>

    <input type="file" id="image"><br>
    <button id="sub" type="button">Enviar</button>
    
    <script>
        const token = "7e2260c14219f94b3e2b304f5ca3ff4120cfc854";

        document.getElementById('sub').onclick = () => {
            const fd = new FormData();
            const image = document.getElementById('image').files[0];
            console.log(image);
            fd.append('image', image);

            fetch("http://127.0.0.1:8000/recipes/self/4/image/", {
                method: "PUT",
                headers: {
                    // "Content-Type": "application/json",
                    "Authorization": "Token " + token
                },
                // body: JSON.stringify({
                //     title:"Receita"
                // })
                body: fd


                // method: "POST",
                // headers: {
                //     "Content-Type": "application/json",
                //     "Authorization": "Token " + token_2
                // },

                // body: JSON.stringify({
                //     name: "Feijoada 2",
                //     preparation_time: 20,
                //     food_yield: 5,
                //     ingredients: ["Feijão", "Linguiça", "literalmente qualquer coisa"],
                //     steps: ["Cozinha o feijão", "cabou"],
                //     additional_information: "É muito bom, namoral",
                //     food_type: "BRA",
                // })

            
            })
                .then(resp => resp.json())
                .then(resp => console.log(resp))
                .catch(error => console.log(error.message))
        }

        
    </script>
</body>
</html>